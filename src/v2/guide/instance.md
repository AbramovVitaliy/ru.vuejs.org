---
title: Инстанс Vue
type: guide
order: 3
---

## Конструктор

Каждый vm Vue создаётся как **корневой инстанс Vue** при помощи функции-конструктора:

``` js
var vm = new Vue({
  // опции
})
```

Хотя Vue и не имплементирует в полной мере [паттерн MVVM](https://en.wikipedia.org/wiki/Model_View_ViewModel), архитектура фреймворка несомненно во многом вдохновлена им. В качестве соглашения, мы часто используем переменную `vm` (сокращение для ViewModel), когда ссылаемся на инстансы Vue.

При создании инстанса Vue, необходимо передать **объект опций**, содержащий опции данных, шаблона, элемента монтирования, методов, хуков жизненного цикла и так далее. Полный список опций может быть найден в [справочнике API](../api).

Конструктор `Vue` может быть расширен для создания повторно используемых **компонентов** с предустановленными опциями:

``` js
var MyComponent = Vue.extend({
  // опции компонента
})

// все инстансы `MyComponent` создаются
// с предопределёнными опциями
var myComponentInstance = new MyComponent()
```

Хотя императивное создание инстансов компонентов и возможно, большую часть времени рекомендуется создавать их декларативно, как пользовательские элементы в шаблонах. Мы поговорим о [системе компонентов](components.html) более подробно позднее. Пока что, просто запомните, что все компоненты Vue по сути являются расширенными инстансами Vue.

## Свойства и Методы

Каждый инстанс Vue **проксирует** все свойства своего объекта `data`:

``` js
var data = { a: 1 }
var vm = new Vue({
  data: data
})

vm.a === data.a // -> true

// установка свойства также влияет на оригинальные данные
vm.a = 2
data.a // -> 2

// ... и наоборот
data.a = 3
vm.a // -> 3
```

Стоит заметить, что только эти проксируемые свойства являются **реактивными**. Если вы установите новое свойство к инстансу после его создания, это не повлечёт никаких обновлений представления. Мы обсудим реактивность в подробностях поздее.

В дополнение к свойствам данных, инстанс Vue предоставляет ряд полезных свойств и методов. Их имена начинаются с `$` для того чтобы отличаться от свойств данных. Например:

``` js
var data = { a: 1 }
var vm = new Vue({
  el: '#example',
  data: data
})

vm.$data === data // -> true
vm.$el === document.getElementById('example') // -> true

// $watch — это метод инстанса
vm.$watch('a', function (newVal, oldVal) {
  // this callback will be called when `vm.a` changes
})
```

<p class="tip">Не используйте [arrow-функции](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/Arrow_functions) как свойства инстанса или в качестве функций обратного вызова (напр. `vm.$watch('a', newVal => this.myMethod())`). Поскольку arrow-функции автоматически привязываются к родительскому контексту, `this` не будет являться инстансом Vue, как вы могли бы ожидать, и `this.myMethod` будет неопределён.</p>

Обратитесь к [API reference](../api) для полного списка свойств и методов инстанса Vue.

## Хуки Жизненного Цикла Инстанса

Каждый инстанс Vue проходит при своём создании через последовательность шагов инициализации — например, требуется настройка наблюдения за данными, компиляция шаблона, монтирование инстанса в DOM, а также обновление DOM при изменении данных. Во время всего этого также вызываются некоторые **хуки жизненного цикла**, дающие возможность выполнять произвольные дополнительные действия. Например, хук `created` вызывается после создания инстанса:

``` js
var vm = new Vue({
  data: {
    a: 1
  },
  created: function () {
    // `this` указывает на инстанс vm
    console.log('a is: ' + this.a)
  }
})
// -> "a is: 1"
```

Существуют также другие хуки, вызываемые на различных стадиях жизненного цикла инстанса, например `mounted`, `updated` и `destroyed`. Все хуки вызываются с контекстной переменной `this` установленной в ссылку на вызывающий инстанс Vue. Возможно некоторые из вас удивлялись, где же в мире Vue живут "контроллеры", и ответ на этот вопрос таков: контроллеров не существует. Всё пользовательское поведение для компонента должно быть размещено в этих хуках.

## Диаграмма жизненного цикла

Ниже находится диаграмма жизненного цикла инстанса. Вам нет нужды понимать её полностью уже сейчас, но в будущем она вам пригодится.

![Lifecycle](/images/lifecycle.png)
